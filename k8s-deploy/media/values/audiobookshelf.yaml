# Default values for my-chart.
# This is a YAML-formatted file.
# Declare variables to be passed into your templates.

replicaCount: 1

image:
  repository: ghcr.io/advplyr/audiobookshelf
  pullPolicy: IfNotPresent
  tag: "latest"

env:
  - name: PUID
    value: "0"
  - name: PGID
    value: "0"
  - name: TZ
    value: "America/New_York"

service:
  type: ClusterIP
  port: 13378
  targetPort: 80

ingress:
  enabled: true
  scheme: http
  insecureSkipVerify: false
  host: adb.prod.phuchoang.sbs
  entryPoints:
    - websecure

persistence:
  claims:
    - name: books
      storageClassName: "audiobookshelf"
      accessMode: ReadWriteOnce
      size: 10Gi
    - name: config
      storageClassName: "audiobookshelf"
      accessMode: ReadWriteOnce
      size: 101M
    - name: metadata
      storageClassName: "audiobookshelf"
      accessMode: ReadWriteOnce
      size: 102M

  volumeMounts:
    - name: books
      mountPath: /data
    - name: config
      mountPath: /config
    - name: metadata
      mountPath: /metadata
